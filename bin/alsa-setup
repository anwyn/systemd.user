#!/bin/bash

for CARD in $(cat /proc/asound/card[0-9]*/id)
do
    CARD_BASE="~/.config/alsa/${CARD}"
    
    test -f "${CARD_BASE}.state" && /usr/sbin/alsactl -f "${CARD_BASE}.state" restore "${CARD}"
    test -x "${CARD_BASE}.setup" && "${CARD_BASE}.setup" "${CARD}"
done

exit 0
